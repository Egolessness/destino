import{dE as V,dZ as I,d_ as L,d$ as G,e0 as R,e1 as g,e2 as $,bT as k,d,ak as o,aw as l,ap as B,r as y,o as M,al as b,aq as E,ar as r,a6 as O,av as w,at as h,aM as F,as as H,an as K,b4 as X,a4 as j}from"./index-14be5eda.js";import{_ as q}from"./Select-fe2401fd.js";import{_ as z}from"./Switch-1c9e2bf5.js";import{_ as D}from"./InputNumber-8f939523.js";import{_ as Z,a as J}from"./FormItem-7cb46c99.js";import{_ as Q}from"./Space-6bd69fc7.js";import"./Input-3ed2969b.js";import"./Add-f34dd24c.js";var W=/^\s+/,Y=V.parseInt;function ee(n,e,a){return a||e==null?e=0:e&&(e=+e),Y(I(n).replace(W,""),e||0)}function ne(n,e){for(var a=n.length;a--&&L(e,n[a],0)>-1;);return a}function ae(n,e){for(var a=-1,t=n.length;++a<t&&L(e,n[a],0)>-1;);return a}function te(n,e,a){if(n=I(n),n&&(a||e===void 0))return n.slice(0,G(n)+1);if(!n||!(e=R(e)))return n;var t=g(n),u=ne(t,g(e))+1;return $(t,0,u).join("")}var ue=/^\s+/;function oe(n,e,a){if(n=I(n),n&&(a||e===void 0))return n.replace(ue,"");if(!n||!(e=R(e)))return n;var t=g(n),u=ae(t,g(e));return $(t,u).join("")}function se(){return k.get("/setting/GLOBAL")}function le(n){return k.put("/setting/batch",{settings:n})}const _e=d({name:"SettingLanuage",__name:"language",props:{value:{default:"en"}},emits:["update:value"],setup(n,{emit:e}){const a=[{value:"en",label:"English"},{value:"zh_CN",label:"Chinese(Simplified) - 中文简体"}];function t(u){e("update:value",u)}return(u,s)=>{const p=q;return o(),l(p,{class:"w-260px",value:u.value,options:a,"onUpdate:value":t},null,8,["value"])}}}),C=d({name:"SettingEnabled",__name:"enabled",props:{value:{default:!0}},emits:["update:value"],setup(n,{emit:e}){function a(t){e("update:value",t)}return(t,u)=>{const s=z;return o(),l(s,{value:t.value,"onUpdate:value":a},null,8,["value"])}}}),m=d({name:"SettingDuration",__name:"duration",props:{value:{default:!0}},emits:["update:value"],setup(n,{emit:e}){function a(t){e("update:value",t)}return(t,u)=>{const s=D;return o(),l(s,{min:1,class:"w-260px",value:t.value,"onUpdate:value":a},null,8,["value"])}}}),re=d({name:"SettingPeriod",__name:"period",props:{value:{default:!0}},emits:["update:value"],setup(n,{emit:e}){function a(u){if(u){const s=te(oe(u,"P"),"D");return ee(s)}return 1}function t(u){u?e("update:value",`P${u}D`):e("update:value","P0D")}return(u,s)=>{const p=D;return o(),l(p,{min:1,class:"w-260px",value:a(u.value),"onUpdate:value":t},null,8,["value"])}}}),pe={class:"h-full"},Se=d({__name:"index",setup(n){const{t:e}=B(),a={LANGUAGE:_e,SKIP_REGISTRATION:C,LOG_CLEAR_ENABLED:C,TOKEN_EXPIRE_SECONDS:m,TOKEN_EXPIRE_SECONDS_FOR_REMEMBER_ME:m,LOG_SURVIVAL_DURATION:re,EPOCH_INTERVAL:m,EXECUTION_PREFETCH:m,SINGLE_HANDLE_COUNT:m},t=y([]),u=y(!1);M(()=>{s()});async function s(){const{data:_}=await se();_&&(t.value=_)}async function p(){var f;u.value=!0;const _=[];t.value.forEach(v=>{const S=v.details.map(c=>({domain:v.domain,key:c.key,value:c.value}));_.push(...S)});const{error:N}=await le(_);N||(f=window.$message)==null||f.success(e("message.operation.updateSuccess")),u.value=!1}return(_,N)=>{const f=Z,v=X,S=j,c=Q,U=J;return o(),b("div",pe,[E(U,{ref:"formRef","label-placement":"left","label-align":"left","label-width":"auto"},{default:r(()=>[E(c,{vertical:""},{default:r(()=>[(o(!0),b(O,null,w(t.value,(T,A)=>(o(),l(v,{key:A,hoverable:"",title:h(e)(`message.setting.${T.domain}`)},{default:r(()=>[(o(!0),b(O,null,w(T.details,(i,P)=>(o(),l(f,{key:P,path:i.key,label:h(e)(`message.setting.${i.key}`)},{default:r(()=>[(o(),l(F(a[i.key]),{value:i.value,"onUpdate:value":x=>i.value=x},null,40,["value","onUpdate:value"]))]),_:2},1032,["path","label"]))),128))]),_:2},1032,["title"]))),128)),E(c,{class:"absolute right-12 top-30"},{default:r(()=>[E(S,{class:"w-16",size:"small",type:"success",disabled:u.value,ghost:"",onClick:p},{default:r(()=>[H(K(h(e)("message.operation.save")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},512)])}}});export{Se as default};
