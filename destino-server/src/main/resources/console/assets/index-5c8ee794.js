import{dp as V,dJ as I,dK as w,dL as G,dM as R,dN as g,dO as $,bH as k,d,ab as o,an as l,ag as B,r as y,o as M,ac as S,ah as E,ai as r,$ as T,am as C,ak as b,aC as H,aj as K,ae as j,aW as F,_ as X}from"./index-e6583b55.js";import{_ as z}from"./Select-33cfb7e8.js";import{_ as q}from"./Switch-e3f2f06e.js";import{_ as D}from"./InputNumber-1e6fbf30.js";import{_ as J,a as W}from"./FormItem-922e3fb1.js";import{_ as Q}from"./Space-83e95913.js";import"./Input-d290ecc1.js";import"./Add-8d1daea1.js";var Y=/^\s+/,Z=V.parseInt;function ee(n,e,a){return a||e==null?e=0:e&&(e=+e),Z(I(n).replace(Y,""),e||0)}function ne(n,e){for(var a=n.length;a--&&w(e,n[a],0)>-1;);return a}function ae(n,e){for(var a=-1,t=n.length;++a<t&&w(e,n[a],0)>-1;);return a}function te(n,e,a){if(n=I(n),n&&(a||e===void 0))return n.slice(0,G(n)+1);if(!n||!(e=R(e)))return n;var t=g(n),u=ne(t,g(e))+1;return $(t,0,u).join("")}var ue=/^\s+/;function oe(n,e,a){if(n=I(n),n&&(a||e===void 0))return n.replace(ue,"");if(!n||!(e=R(e)))return n;var t=g(n),u=ae(t,g(e));return $(t,u).join("")}function se(){return k.get("/setting/GLOBAL")}function le(n){return k.put("/setting/batch",{settings:n})}const _e=d({name:"SettingLanuage",__name:"language",props:{value:{default:"en"}},emits:["update:value"],setup(n,{emit:e}){const a=[{value:"en",label:"English"},{value:"zh_CN",label:"Chinese(Simplified) - 中文简体"}];function t(u){e("update:value",u)}return(u,s)=>{const c=z;return o(),l(c,{class:"w-260px",value:u.value,options:a,"onUpdate:value":t},null,8,["value"])}}}),L=d({name:"SettingEnabled",__name:"enabled",props:{value:{default:!0}},emits:["update:value"],setup(n,{emit:e}){function a(t){e("update:value",t)}return(t,u)=>{const s=q;return o(),l(s,{value:t.value,"onUpdate:value":a},null,8,["value"])}}}),m=d({name:"SettingDuration",__name:"duration",props:{value:{default:!0}},emits:["update:value"],setup(n,{emit:e}){function a(t){e("update:value",t)}return(t,u)=>{const s=D;return o(),l(s,{min:1,class:"w-260px",value:t.value,"onUpdate:value":a},null,8,["value"])}}}),re=d({name:"SettingPeriod",__name:"period",props:{value:{default:!0}},emits:["update:value"],setup(n,{emit:e}){function a(u){if(u){const s=te(oe(u,"P"),"D");return ee(s)}return 1}function t(u){u?e("update:value",`P${u}D`):e("update:value","P0D")}return(u,s)=>{const c=D;return o(),l(c,{min:1,class:"w-260px",value:a(u.value),"onUpdate:value":t},null,8,["value"])}}}),ce={class:"h-full"},he=d({__name:"index",setup(n){const{t:e}=B(),a={LANGUAGE:_e,SKIP_REGISTRATION:L,LOG_CLEAR_ENABLED:L,TOKEN_EXPIRE_SECONDS:m,TOKEN_EXPIRE_SECONDS_FOR_REMEMBER_ME:m,LOG_SURVIVAL_DURATION:re,EPOCH_INTERVAL:m,EXECUTION_PREFETCH:m,SINGLE_HANDLE_COUNT:m},t=y([]),u=y(!1);M(()=>{s()});async function s(){const{data:_}=await se();_&&(t.value=_)}async function c(){var f;u.value=!0;const _=[];t.value.forEach(v=>{const h=v.details.map(p=>({domain:v.domain,key:p.key,value:p.value}));_.push(...h)});const{error:N}=await le(_);N||(f=window.$message)==null||f.success(e("message.operation.updateSuccess")),u.value=!1}return(_,N)=>{const f=J,v=F,h=X,p=Q,U=W;return o(),S("div",ce,[E(U,{ref:"formRef","label-placement":"left","label-align":"left","label-width":"auto"},{default:r(()=>[E(p,{vertical:""},{default:r(()=>[(o(!0),S(T,null,C(t.value,(O,A)=>(o(),l(v,{key:A,hoverable:"",title:b(e)(`message.setting.${O.domain}`)},{default:r(()=>[(o(!0),S(T,null,C(O.details,(i,P)=>(o(),l(f,{key:P,path:i.key,label:b(e)(`message.setting.${i.key}`)},{default:r(()=>[(o(),l(H(a[i.key]),{value:i.value,"onUpdate:value":x=>i.value=x},null,40,["value","onUpdate:value"]))]),_:2},1032,["path","label"]))),128))]),_:2},1032,["title"]))),128)),E(p,{class:"absolute right-12 top-30"},{default:r(()=>[E(h,{class:"w-16",size:"small",type:"success",disabled:u.value,ghost:"",onClick:c},{default:r(()=>[K(j(b(e)("message.operation.save")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},512)])}}});export{he as default};
